# kouchou-ai
デジタル民主主義2030プロジェクトにおいて、ブロードリスニングを実現するためのソフトウェア「広聴AI」のリポジトリです。

## 前提条件
* docker, docker-compose
* OpenAI APIキー

## セットアップ・起動
### 前提
* 以下の手順は、ローカル環境でdocker composeを使用してセットアップする際の手順となります
* リモート環境でホスティングする場合は、個別のサービス（client, client-admin, api）について、適切に環境変数を設定した上でそれぞれホスティングしてください

### 手順
* リポジトリをクローン
* `cp .env.example .env` をコンソールで実行
  * コピー後に各環境変数を設定。各環境変数の意味は.env.exampleに記載。
* `docker-compose up` をコンソールで実行
  * ブラウザで http://localhost:3000 にアクセスすることでレポート一覧画面にアクセス可能
  * ブラウザで http://localhost:4000 にアクセスすることで管理画面にアクセス可能


### メタデータファイルのセットアップ
以下の手順は、メタデータや画像をデフォルトのものから差し替える際に実施してください。

* `public/meta/custom` ディレクトリにメタデータファイルや画像ファイルを配置
  * 配置するのは以下の4ファイル
    * `metadata.json`: レポートのメタデータ。記載した情報は、レポート下部で表示される。
    * `reporter.png`: レポート実施者の画像。ページ最上部およびページ下部で表示される。
    * `icon.png`: レポートのアイコン画像。ページ下部に表示される。
    * `ogp.png`: レポートのOGP画像。
  * ファイルを配置しない場合は、`public/meta/default` ディレクトリに配置されているデフォルトの各ファイルが使用される。


## アーキテクチャ概要
本システムは以下のサービスで構成されています。


### api (server)
- ポート: 8000
- 役割: バックエンドAPIサービス
- 主要機能:
  - レポートデータの取得・管理
  - レポート生成パイプラインの実行
  - 管理用APIの提供
- 技術スタック:
  - Python (FastAPI)
  - Docker

### client
- ポート: 3000
- 役割: レポート表示用フロントエンド
- 主要機能:
  - レポートの可視化
  - インタラクティブなデータ分析
  - ユーザーフレンドリーなインターフェース
- 技術スタック:
  - Next.js
  - TypeScript
  - Docker

### client-admin
- ポート: 4000
- 役割: 管理用フロントエンド
- 主要機能:
  - レポートの作成・編集
  - パイプライン設定の管理
  - システム設定の管理
- 技術スタック:
  - Next.js
  - TypeScript
  - Docker

### utils/dummy-server
- 役割: 開発用ダミーAPI
- 用途: 開発環境でのAPIモックとして使用


## 免責事項
大規模言語モデル（LLM）にはバイアスがあり、信頼性の低い結果を生成することが知られています。私たちはこれらの問題を軽減する方法に積極的に取り組んでいますが、現段階ではいかなる保証も提供することはできません。特に重要な決定を下す際は、本アプリの出力結果のみに依存せず、必ず内容を検証してください。


## 開発者向けのガイドライン
広聴AIはOSSとして開発されており、開発者の方からのコントリビュートを募集しています。
詳しくは、[CONTRIBUTING.md](CONTRIBUTING.md)を参照ください。

## クレジット
このプロジェクトは、[AI Objectives Institute](https://www.aiobjectivesinstitute.org/) が開発した [Talk to the City](https://github.com/AIObjectives/talk-to-the-city-reports)を参考に開発されており、ライセンスに基づいてソースコードを一部活用し、機能追加や改善を実施しています。ここに原作者の貢献に感謝の意を表します。
